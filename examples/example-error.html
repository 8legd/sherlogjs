<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Error Tracking Example</title>
  <script>
    (function (doc, win){
      var environment = 'development';
      win.onerror = function (m, u, l) {
        try {
          var js = doc.createElement('script'); js.id = 'sherlog';
          var e  = typeof environment !== 'undefined' ? environment : '';
          js.src = '../public/js/sherlog.min.js';
          js.onload = function() { win._sherlog.error([m,u,l], e); };
          var scr = doc.getElementsByTagName('script')[0].parentNode.insertBefore(js, scr);
          scr.parentNode.removeChild(scr);
        } catch(e) {
          console.log('Sherlog.js could not start.');
        };
      };
    }(document, window));
  </script>

</head>
<body>

  <h2>Error Tracker Example</h2>
  <p>This page has a javascript error which will be caught by Sherlog after rendering.</p>

  <script>
    I_will_cause_an_error
  </script>


</body>
</html>